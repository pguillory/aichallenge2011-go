package main

import "testing"

func TestArmy(t *testing.T) {
    terrain := NewTerrain(
        "..aa........*.............\n" +
        "...a...............a......\n" +
        "..aa.aaa...a..........a...\n" +
        "....abb.....a.........a...\n" +
        "....a........a...aa...a...\n" +
        "....a.....................\n" +
        "....a..a.......aaaa.......\n" +
        "....aa.a..........a.......\n" +
        "...a............a.a.......\n" +
        "..................a.......\n" +
        "..........................")
    expected :=
        "..AA......................\n" +
        "...A...............d......\n" +
        "..AA.AAA...j..........k...\n" +
        "....A.......j.........k...\n" +
        "....A........j...qq...k...\n" +
        "....A.....................\n" +
        "....A..v.......wwww.......\n" +
        "....AA.v..........w.......\n" +
        "...A............+.w.......\n" +
        "..................w.......\n" +
        ".........................."
    army := NewArmy(terrain)
    army.Calculate()
    if army.String() != expected {
        t.Error(army)
    }
}
